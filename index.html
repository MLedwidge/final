<!doctype html>
<html lang="en">
<head>
	<title>Shadow (Three.js)</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link rel=stylesheet href="http://stemkoski.github.io/Three.js/css/base.css"/>
</head>
<body>

<script src="http://stemkoski.github.io/Three.js/js/Three.js"></script>
<script src="http://stemkoski.github.io/Three.js/js/Detector.js"></script>
<script src="http://stemkoski.github.io/Three.js/js/Stats.js"></script>

<script src="http://stemkoski.github.io/Three.js/js/THREEx.KeyboardState.js"></script>
<script src="http://stemkoski.github.io/Three.js/js/THREEx.FullScreen.js"></script>
<script src="http://stemkoski.github.io/Three.js/js/THREEx.WindowResize.js"></script>

<!-- jQuery code to display an information button and box when clicked. -->
<script src="http://stemkoski.github.io/Three.js/js/jquery-1.9.1.js"></script>
<script src="http://stemkoski.github.io/Three.js/js/jquery-ui.js"></script>
<link rel=stylesheet href="http://stemkoski.github.io/Three.js/css/jquery-ui.css" />

<script src="http://stemkoski.github.io/Three.js/js/info.js"></script>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>


<style>

</style>

</div>
<!-- ------------------------------------------------------------ -->

<div id="ThreeJS" style="position: absolute; left:0px; top:0px"></div>

<script> /**
 * @author qiao / https://github.com/qiao
 * @author mrdoob / http://mrdoob.com
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 */

THREE.OrbitControls = function ( object, domElement ) {

	this.object = object;
	this.domElement = ( domElement !== undefined ) ? domElement : document;

	// API

	this.enabled = true;

	this.center = new THREE.Vector3();

	this.userZoom = true;
	this.userZoomSpeed = 0.2;

	this.userRotate = true;
	this.userRotateSpeed = 0.4;

	this.userPan = true;
	this.userPanSpeed = 2.0;

	this.autoRotate = true;
	this.autoRotateSpeed = 10.0; // 30 seconds per round when fps is 60

	this.minPolarAngle = 0; // radians
	this.maxPolarAngle = Math.PI; // radians

	this.minDistance = 0;
	this.maxDistance = Infinity;

	// 65 /*A*/, 83 /*S*/, 68 /*D*/
	this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40, ROTATE: 65, ZOOM: 83, PAN: 68 };

	// internals

	var scope = this;

	var EPS = 0.000001;
	var PIXELS_PER_ROUND = 1800;

	var rotateStart = new THREE.Vector2();
	var rotateEnd = new THREE.Vector2();
	var rotateDelta = new THREE.Vector2();

	var zoomStart = new THREE.Vector2();
	var zoomEnd = new THREE.Vector2();
	var zoomDelta = new THREE.Vector2();

	var phiDelta = 0;
	var thetaDelta = 0;
	var scale = 1;

	var lastPosition = new THREE.Vector3();

	var STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2 };
	var state = STATE.NONE;

	// events

	var changeEvent = { type: 'change' };


	this.rotateLeft = function ( angle ) {

		if ( angle === undefined ) {

			angle = getAutoRotationAngle();

		}

		thetaDelta -= angle;

	};

	this.rotateRight = function ( angle ) {

		if ( angle === undefined ) {

			angle = getAutoRotationAngle();

		}

		thetaDelta += angle;

	};

	this.rotateUp = function ( angle ) {

		if ( angle === undefined ) {

			angle = getAutoRotationAngle();

		}

		phiDelta -= angle;

	};

	this.rotateDown = function ( angle ) {

		if ( angle === undefined ) {

			angle = getAutoRotationAngle();

		}

		phiDelta += angle;

	};

	this.zoomIn = function ( zoomScale ) {

		if ( zoomScale === undefined ) {

			zoomScale = getZoomScale();

		}

		scale /= zoomScale;

	};

	this.zoomOut = function ( zoomScale ) {

		if ( zoomScale === undefined ) {

			zoomScale = getZoomScale();

		}

		scale *= zoomScale;

	};

	this.pan = function ( distance ) {

		distance.transformDirection( this.object.matrix );
		distance.multiplyScalar( scope.userPanSpeed );

		this.object.position.add( distance );
		this.center.add( distance );

	};

	this.update = function () {

		var position = this.object.position;
		var offset = position.clone().sub( this.center );

		// angle from z-axis around y-axis

		var theta = Math.atan2( offset.x, offset.z );

		// angle from y-axis

		var phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );

		if ( this.autoRotate ) {

			this.rotateLeft( getAutoRotationAngle() );

		}

		theta += thetaDelta;
		phi += phiDelta;

		// restrict phi to be between desired limits
		phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );

		// restrict phi to be betwee EPS and PI-EPS
		phi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );

		var radius = offset.length() * scale;

		// restrict radius to be between desired limits
		radius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );

		offset.x = radius * Math.sin( phi ) * Math.sin( theta );
		offset.y = radius * Math.cos( phi );
		offset.z = radius * Math.sin( phi ) * Math.cos( theta );

		position.copy( this.center ).add( offset );

		this.object.lookAt( this.center );

		thetaDelta = 0;
		phiDelta = 0;
		scale = 1;

		if ( lastPosition.distanceTo( this.object.position ) > 0 ) {

			this.dispatchEvent( changeEvent );

			lastPosition.copy( this.object.position );

		}

	};


	function getAutoRotationAngle() {

		return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;

	}

	function getZoomScale() {

		return Math.pow( 0.95, scope.userZoomSpeed );

	}

	function onMouseDown( event ) {

		if ( scope.enabled === false ) return;
		if ( scope.userRotate === false ) return;

		event.preventDefault();

		if ( state === STATE.NONE )
		{
			if ( event.button === 0 )
				state = STATE.ROTATE;
			if ( event.button === 1 )
				state = STATE.ZOOM;
			if ( event.button === 2 )
				state = STATE.PAN;
		}


		if ( state === STATE.ROTATE ) {

			//state = STATE.ROTATE;

			rotateStart.set( event.clientX, event.clientY );

		} else if ( state === STATE.ZOOM ) {

			//state = STATE.ZOOM;

			zoomStart.set( event.clientX, event.clientY );

		} else if ( state === STATE.PAN ) {

			//state = STATE.PAN;

		}

		document.addEventListener( 'mousemove', onMouseMove, false );
		document.addEventListener( 'mouseup', onMouseUp, false );

	}

	function onMouseMove( event ) {

		if ( scope.enabled === false ) return;

		event.preventDefault();



		if ( state === STATE.ROTATE ) {

			rotateEnd.set( event.clientX, event.clientY );
			rotateDelta.subVectors( rotateEnd, rotateStart );

			scope.rotateLeft( 2 * Math.PI * rotateDelta.x / PIXELS_PER_ROUND * scope.userRotateSpeed );
			scope.rotateUp( 2 * Math.PI * rotateDelta.y / PIXELS_PER_ROUND * scope.userRotateSpeed );

			rotateStart.copy( rotateEnd );

		} else if ( state === STATE.ZOOM ) {

			zoomEnd.set( event.clientX, event.clientY );
			zoomDelta.subVectors( zoomEnd, zoomStart );

			if ( zoomDelta.y > 0 ) {

				scope.zoomIn();

			} else {

				scope.zoomOut();

			}

			zoomStart.copy( zoomEnd );

		} else if ( state === STATE.PAN ) {

			var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;
			var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;

			scope.pan( new THREE.Vector3( - movementX, movementY, 0 ) );

		}

	}

	function onMouseUp( event ) {

		if ( scope.enabled === false ) return;
		if ( scope.userRotate === false ) return;

		document.removeEventListener( 'mousemove', onMouseMove, false );
		document.removeEventListener( 'mouseup', onMouseUp, false );

		state = STATE.NONE;

	}

	function onMouseWheel( event ) {

		if ( scope.enabled === false ) return;
		if ( scope.userZoom === false ) return;

		var delta = 0;

		if ( event.wheelDelta ) { // WebKit / Opera / Explorer 9

			delta = event.wheelDelta;

		} else if ( event.detail ) { // Firefox

			delta = - event.detail;

		}

		if ( delta > 0 ) {

			scope.zoomOut();

		} else {

			scope.zoomIn();

		}

	}

	function onKeyDown( event ) {

		if ( scope.enabled === false ) return;
		if ( scope.userPan === false ) return;

		switch ( event.keyCode ) {

			/*case scope.keys.UP:
				scope.pan( new THREE.Vector3( 0, 1, 0 ) );
				break;
			case scope.keys.BOTTOM:
				scope.pan( new THREE.Vector3( 0, - 1, 0 ) );
				break;
			case scope.keys.LEFT:
				scope.pan( new THREE.Vector3( - 1, 0, 0 ) );
				break;
			case scope.keys.RIGHT:
				scope.pan( new THREE.Vector3( 1, 0, 0 ) );
				break;
			*/
			case scope.keys.ROTATE:
				state = STATE.ROTATE;
				break;
			case scope.keys.ZOOM:
				state = STATE.ZOOM;
				break;
			case scope.keys.PAN:
				state = STATE.PAN;
				break;

		}

	}

	function onKeyUp( event ) {

		switch ( event.keyCode ) {

			case scope.keys.ROTATE:
			case scope.keys.ZOOM:
			case scope.keys.PAN:
				state = STATE.NONE;
				break;
		}

	}

	this.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );
	this.domElement.addEventListener( 'mousedown', onMouseDown, false );
	this.domElement.addEventListener( 'mousewheel', onMouseWheel, false );
	this.domElement.addEventListener( 'DOMMouseScroll', onMouseWheel, false ); // firefox
	window.addEventListener( 'keydown', onKeyDown, false );
	window.addEventListener( 'keyup', onKeyUp, false );

};

THREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );

</script>


<script>
/*
	Three.js "tutorials by example"
	Author: Lee Stemkoski
	Date: July 2013 (three.js v59dev)
*/
// MAIN
// standard global variables
var container, scene, camera, renderer, controls, stats;
var keyboard = new THREEx.KeyboardState();
var clock = new THREE.Clock();
// custom global variables
var cube;
init();
animate();
// FUNCTIONS
function init()
{
	// SCENE
	scene = new THREE.Scene();
	// CAMERA
	var SCREEN_WIDTH = window.innerWidth, SCREEN_HEIGHT = window.innerHeight;
	var VIEW_ANGLE = 32, ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT, NEAR = 0.1, FAR = 20000;
	camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT, NEAR, FAR);
	scene.add(camera);
	camera.position.set(-700,900,700);
	camera.lookAt(scene.position);
	// RENDERER
	if ( Detector.webgl )
		renderer = new THREE.WebGLRenderer( {antialias:true} );
	else
		renderer = new THREE.CanvasRenderer();
	renderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT);
	container = document.getElementById( 'ThreeJS' );
	container.appendChild( renderer.domElement );
	// EVENTS
	THREEx.WindowResize(renderer, camera);
	THREEx.FullScreen.bindKey({ charCode : 'm'.charCodeAt(0) });
	// CONTROLS
	controls = new THREE.OrbitControls( camera, renderer.domElement );
	// STATS
	stats = new Stats();
	stats.domElement.style.position = 'absolute';
	stats.domElement.style.bottom = '0px';
	stats.domElement.style.zIndex = 100;
	container.appendChild( stats.domElement );
	// LIGHT
	//var light = new THREE.PointLight(0xffffff);
	//light.position.set(0,250,0);
	//scene.add(light);

	// SKYBOX/FOG
	var skyBoxGeometry = new THREE.CubeGeometry( 10000, 10000, 10000 );
	var skyBoxMaterial = new THREE.MeshBasicMaterial( { color: 0x000066, side: THREE.BackSide } );
	var skyBox = new THREE.Mesh( skyBoxGeometry, skyBoxMaterial );
	// scene.add(skyBox);
	scene.fog = new THREE.FogExp2( 0xffffff, 0.000015 );

	////////////
	// CUSTOM //
	////////////
	// must enable shadows on the renderer
	renderer.shadowMapEnabled = true;

	// "shadow cameras" show the light source and direction

	// spotlight #1 -- yellow, dark shadow
	var spotlight = new THREE.SpotLight(0xf9ecec);
	spotlight.position.set(250,500,-100);
	spotlight.shadowCameraVisible = false;
	spotlight.shadowDarkness = 2;
	spotlight.intensity = 5;
	// must enable shadow casting ability for the light
	spotlight.castShadow = true;
	scene.add(spotlight);

	// spotlight #1 -- yellow, dark shadow
	var spotlight = new THREE.SpotLight(0x0000ff);
	spotlight.position.set(250,100,500);
	spotlight.shadowCameraVisible = false;
	spotlight.shadowDarkness = 0.5;
	spotlight.intensity = 3;
	// must enable shadow casting ability for the light
	spotlight.castShadow = true;
	scene.add(spotlight);


	// spotlight #1 -- yellow, dark shadow
	var spotlight = new THREE.SpotLight(0x0000f0);
	spotlight.position.set(1050,1200,1000);
	spotlight.shadowCameraVisible = false;
	spotlight.shadowDarkness = 0.5;
	spotlight.intensity = 3;
	// must enable shadow casting ability for the light
	spotlight.castShadow = true;
	scene.add(spotlight);

	// spotlight #1 -- yellow, dark shadow
	var spotlight = new THREE.SpotLight(0xff8c1a);
	spotlight.position.set(-1050,500,-1000);
	spotlight.shadowCameraVisible = false;
	spotlight.shadowDarkness = 0.1;
	spotlight.intensity = 5;
	// must enable shadow casting ability for the light
	spotlight.castShadow = true;
	scene.add(spotlight);




	// spotlight #1 -- yellow, dark shadow
	var spotlight = new THREE.SpotLight(0xff8533);
	spotlight.position.set(-750,300,-500);
	spotlight.shadowCameraVisible = false;
	spotlight.shadowDarkness = 0.5;
	spotlight.intensity = 6;
	// must enable shadow casting ability for the light
	spotlight.castShadow = true;
	scene.add(spotlight);

	// spotlight #2 -- red, light shadow
	var spotlight2 = new THREE.SpotLight(0xff3300);
	spotlight2.position.set(150,80,-100);
	scene.add(spotlight2);
	spotlight2.shadowCameraVisible = false;
	spotlight2.shadowDarkness = 0.25;
	spotlight2.intensity = 4;
	spotlight2.castShadow = true;


	var spotlight3 = new THREE.SpotLight(0xff6666);
	spotlight3.position.set(150,80,-100);
	scene.add(spotlight3);
	spotlight3.shadowCameraVisible = false;
	spotlight3.shadowDarkness = 0.25;
	spotlight3.intensity = 8;
	spotlight3.castShadow = true;

	// spotlight #3
	var spotlight3 = new THREE.SpotLight(0xff9933);
	spotlight3.position.set(150,400,-100);
	spotlight3.shadowCameraVisible = false;
	spotlight3.shadowDarkness = 0.25;
	spotlight3.intensity = 3;
	spotlight3.castShadow = true;
	scene.add(spotlight3);

	var spotlight3 = new THREE.SpotLight(0x80007f);
	spotlight3.position.set(1500,110,1000);
	spotlight3.shadowCameraVisible = false;
	spotlight3.shadowDarkness = 0.5;
	spotlight3.intensity = 4;
	spotlight3.castShadow = true;
	scene.add(spotlight3);

	var spotlight3 = new THREE.SpotLight(0x800000);
	spotlight3.position.set(0,10,-160);
	spotlight3.shadowCameraVisible = false;
	spotlight3.shadowDarkness = 0.9;
	spotlight3.intensity = 5;
	spotlight3.castShadow = true;
	scene.add(spotlight3);

	var spotlight3 = new THREE.SpotLight(0x800000);
	spotlight3.position.set(-2000,700,1000);
	spotlight3.shadowCameraVisible = false;
	spotlight3.shadowDarkness = 0.1;
	spotlight3.intensity = 2;
	spotlight3.castShadow = true;
	scene.add(spotlight3);

	var spotlight3 = new THREE.SpotLight(0xffcc66);
	spotlight3.position.set(-200,800,10);
	spotlight3.shadowCameraVisible = false;
	spotlight3.shadowDarkness = 0.1;
	spotlight3.intensity = 4;
	spotlight3.castShadow = true;
	scene.add(spotlight3);




	// change the direction this spotlight is facing
	var lightTarget = new THREE.Object3D();
	lightTarget.position.set(-150,1000,0);
	scene.add(lightTarget);
	spotlight3.target = lightTarget;

	// change the direction this spotlight is facing
	var lightTarget = new THREE.Object3D();
	lightTarget.position.set(0,150,26);
	scene.add(lightTarget);
	spotlight2.target = lightTarget;





//-------------------------------------------------------------------
//-------------------------------------------------------------------
// create the dom Element
/*

var element = document.createElement( 'img' );
element.src = 'textures/sprites/ball.png';
// create the object3d for this element
var cssObject = new THREE.Object( element );
// we reference the same position and rotation
cssObject.position = planeMesh.position;
cssObject.rotation = planeMesh.rotation;
// add it to the css scene
cssScene.add(cssObject);
var cssRenderer = new THREE.CSS3DRenderer();
cssRenderer.setSize( window.innerWidth, window.innerHeight );
cssRenderer.domElement.style.position = 'absolute';
cssRenderer.domElement.style.top = 0;

*/



//-------------------------------------------------------------------
//-------------------------------------------------------------------




	// var shape = [20, 200, 300];
	// var color = "0x80ffff";
	// var position = [0, 50, 0];
	//
// THIS PART IS WHAT ERIN SHOWED ME IN CLASS
/*
	var createShape = function(shape, color, position) {
		// cube: mesh to cast shadows
		var cubeGeometry = new THREE.CubeGeometry( shape[0], shape[1], shape[2] );
		var cubeMaterial = new THREE.MeshLambertMaterial( { color: color } );
		cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
		cube.position.set(position[0], position[1], position[2]);
		// Note that the mesh is flagged to cast shadows
		cube.castShadow = true;
		scene.add(cube);
	}


	for (var i = -10^2; i<100; i++) {

		var offset = i * 3.5^0.1;

		createShape([20, 200, 300+offset], 0x80ffff, [offset, offset, offset]);

	}
*/





}




var clock = new THREE.Clock;

var createShape = function(shape, color, position) {
	// cube: mesh to cast shadows
	var cubeGeometry = new THREE.CubeGeometry( shape[0], shape[1], shape[2] );
	var cubeMaterial = new THREE.MeshLambertMaterial( { color: color } );
	cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
	cube.position.set(position[0], position[1], position[2]);
	// Note that the mesh is flagged to cast shadows
	cube.castShadow = true;
	cube.receiveShadow = true;
	scene.add(cube);
	function animate() {
    mesh.rotation.x += .20;
    mesh.rotation.y += .2;

    render();
    requestAnimationFrame( animate );
	}
}


for (var i = 10; i<50; i++) {

	var offset = i * 25;
	var unset = i * 25;

	// createShape([10, 1000, 10], 0x80ffff, [offset,400, 0]);
//	createShape([10, 1000, 10], 0x80ffff, [offset,400, 20]);
	createShape([10, 1000, 10], 0x80ffff, [offset-750,400, -460]);
		createShape([10, 1000, 10], 0x80ffff, [offset-720,400, -440]);
		createShape([10, 1000, 10], 0x80ffff, [offset-720,400, -420]);

	createShape([10, 1000, 10], 0x80ffff, [offset-750,400, 460]);
		createShape([10, 1000, 10], 0x80ffff, [offset-720,400, 440]);
		createShape([10, 1000, 10], 0x80ffff, [offset-720,400, 420]);


	createShape([10, 1000, 10], 0x80ffff, [460,400, offset-750]);
		createShape([10, 1000, 10], 0x80ffff, [440,400, offset-720]);
		createShape([10, 1000, 10], 0x80ffff, [420,400, offset-720]);


	createShape([10, 1000, 10], 0x80ffff, [-460,400, offset-750]);
	createShape([10, 1000, 10], 0x80ffff, [-440,400, offset-720]);
		createShape([10, 1000, 10], 0x80ffff, [-420,400, offset-720]);



}






	//
	// // cube: mesh to cast shadows
	// var cubeGeometry = new THREE.CubeGeometry( 20, 200, 300 );
	// var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0x80ffff } );
	// cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
	// cube.position.set(0,50,0);
	// // Note that the mesh is flagged to cast shadows
	// cube.castShadow = true;
	// scene.add(cube);

	var light = new THREE.PointLight(0xffffff);
		light.position.set(0,5000,0);
		scene.add(light);

	var ambLight = new THREE.AmbientLight(0x0d0d0d);
scene.add(ambLight);


// MATTFLOOR

var cubeGeometry = new THREE.CubeGeometry( 10000, 100, 10000 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,-100,0);
specular: 0x555555;
shininess: 30;
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 300, 1000, 300 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,300,0);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
// -----------------------------------------------------------------
// -----------------------------------------------------------------
// -----------------------------------------------------------------
// turning on shadows...?


cube.traverse( function ( object ) {
	object.castShadow = true;
	object.receiveShadow = true;
} );


// -----------------------------------------------------------------
// -----------------------------------------------------------------
// -----------------------------------------------------------------
/*
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-480,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
*/
/*
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-460,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-440,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-420,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-400,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-380,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-360,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-340,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-320,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-300,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-280,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-260,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-240,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-220,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-200,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-180,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-160,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-140,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-120,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-100,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-80,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-60,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-40,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-20,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(20,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(40,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(60,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(80,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(100,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(120,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(140,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(160,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(180,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(200,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(220,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(240,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(260,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(280,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(300,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(320,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(340,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(360,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(380,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(400,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(420,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(440,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(460,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(480,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(500,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(520,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
scene.add(cube);cube.receiveShadow = true;


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-480,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-460,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-440,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-420,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-400,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-380,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-360,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-340,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-320,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-300,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-280,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-260,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-240,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-220,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-200,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-180,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-160,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-140,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-120,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-100,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-80,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-60,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-40,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(-20,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(20,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(40,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(60,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(80,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(100,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(120,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(140,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(160,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(180,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(200,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(220,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(240,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(260,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(280,400,-380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(300,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(320,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(340,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(360,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(380,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(400,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(420,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(440,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(460,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(480,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(500,400, -380);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(520,400, -400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, -300);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, -200);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, 0);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, -100);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);

var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, 100);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);


var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, 200);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, 300);
cube.receiveShadow = true;
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);
var cubeGeometry = new THREE.CubeGeometry( 10, 1000, 10 );
var cubeMaterial = new THREE.MeshLambertMaterial( { color: 0xffffff } );
cube = new THREE.Mesh( cubeGeometry, cubeMaterial );
cube.position.set(0,400, 400);
// Note that the mesh is flagged to cast shadows
cube.castShadow = true;
cube.receiveShadow = true;
scene.add(cube);

*/


/*
	// floor: mesh to receive shadows
		var floorTexture = new THREE.ImageUtils.loadTexture( 'http://stemkoski.github.io/Three.s/checkerboard.jpg' );
		floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping;
		floorTexture.repeat.set( 10, 10 );
		// Note the change to Lambert material.
		var floorMaterial = new THREE.MeshLambertMaterial( { map: floorTexture, side: THREE.DoubleSide } );
		var floorGeometry = new THREE.PlaneGeometry(1000, 1000, 100, 100);
		var floor = new THREE.Mesh(floorGeometry, floorMaterial);
		floor.position.y = -0.5;
		floor.rotation.x = Math.PI / 2;
		// Note the mesh is flagged to receive shadows
		floor.receiveShadow = true;
		scene.add(floor);

	// create "light-ball" meshes
	var sphereGeometry = new THREE.SphereGeometry( 10, 16, 8 );
	var darkMaterial = new THREE.MeshBasicMaterial( { color: 0x000000 } );

*/


function animate()
{
    requestAnimationFrame( animate );
	render();
	update();
}
function update()
{
	if ( keyboard.pressed("z") )
	{
		// do something
	}

	controls.update();
	stats.update();
}
function render()
{
	renderer.render( scene, camera );
}

render();
</script>

</body>
</html>
